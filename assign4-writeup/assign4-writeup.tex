\documentclass[10pt, onecolumn, letterpaper, draftclsnofoot]{IEEEtran}

\usepackage{geometry}
\geometry{margin=0.75in}

\usepackage[utf8]{inputenc}
\fontfamily{cmss}

% used for bash script
\usepackage{listings}
\usepackage{xcolor}

\usepackage{setspace} \singlespacing

\title{Assignment 4}
\author{Miles Davies, Sonica Gupta, Ryan Sisco \\ Group 29 \\ CS 444: Spring 2018}

\begin{document}

\maketitle
\begin{abstract}
\noindent This document shows the steps taken to implement best-fit allocation algorithm. The SLOB is currently implemented using the first fit algorithm. Since memory is broken up into chuncks, the first fit algorithm chooses the first chunk of memory that has enough space. This method often saves a bit of time, as the operating system then does not have to analyze the available memory as it would with the best-fit. In the Best-Fit algorithm, the memory chunk that has enough space will be used. 

\noindent This document outlines the preliminary research we did on the two algorithms to adapt the currently implemented first fit algorithm into the best fit algorithm. We show the steps taken during the implementation phase along with the sections of code changed. Additionally, we show the system calls we used that returned the actual memory usage. From there, we wrapped everything up by writing a program that computed the efficiency of the first-fit algorithm in comparrison to the best-fit algorithm.  

\end{abstract}
\newpage

\tableofcontents
\newpage

% The design you plan to use to implement the necessary algorithms
\section{\textbf{Design}}
This assignment could be broken down into the following steps:
\begin{itemize}
\item{Preliminary Research} \\   
\noindent The first thing we had to do was look up the two algorithms: the First Fit Algorithm versus the Best Fit Algorithm. The jist of the differences between the two algorithms is how the operating system chooses which memory chunk to use. For the First Fit Algorithm, the memory chunk that is used is the first one that contains enough room. However, withThe Best Fit Algorithm, the first memory chunk that is used is the one that contains just enough, or the optimal amount of available space. \newline 

Another thing we wanted to look into is what the SLOB was. The SLOB is part of the memory management layer. This layer is the part of the kernel that services all memory allocation requests. For memory requests that are small, considered less than a whole page, the kernel gives three different options for allocations: the SLAB allocator, the SLOB allocator, and the SLUB allocator. The SLUB and SLAB are similar in the sence that they are more complex frameworks because they are designed to reduce the internal memory fragmentation. This happens when the chunks of memory are split up. Additionally, those two allocators allows for efficient reuse of freed memory. On the other hand, the SLOB is designed to be a smaller allocation framework. This allocator often suffers from internal fragmentation because of the First Fit Algorithm, as the first available memory chunck is chosen and chances are it may not contain enough room. However, that is why there is the Best Fit Allocator, it would choose the optimal space to allocate memory, which may also take more time in the long run. This brings us to one of the goals of the assignment, which seeing which of these Allocators are most efficient. \newline 

\item{Implement Best-Fit Algorithm}\\
The only difference between the First Fit Algorithm and the Best Fit Algorithm is the way that things are allocated. For instance, with the First Fit Algorithm, once a chunck of memory is encountered that has enough room, the section of space is allocated. This space was the first one that was encounted that fit the memory space needed. The other algorithm, Best Fit, does not just use the first one encountered that has enough space, but instead uses the space that is most optimal in terms of size. This means that the algorithm needs to search through all the chuncks of space, and find the space that has the size that is only a little larger than the one we need to allocate. However, this space also needs to be the smallest out of all the chunks. Basically the goal is the smallest chunk of memory that still would be large enough to hold whatever we need to store there. \newline

To implement this algorithm, we need to look at both the slob\_alloc function and the slob\_page\_alloc function.The slob\_alloc function is the start of the allocator. The first thing that is done in this function is that ot starts to iterate through each partially free list in order to find space. Then if there is enough space on the page, it attempts to allocate to the memory on that page through the slab\_page\_alloc function. This function is then responsible for the specifying the place on the page to allocate to. \newline

This means that the function we need to adjust to meet the Best Fit Algorithm is the slob\_page\_alloc.Currently, what happens in the function is that once enough room has been found, memory is allocated, but if there is not enough space, the memory allocation is then fragmented. Since there is no loop, the first memory location that is found is used. However, to change this to Best-Fit, we will implement a loop that goes through the whole page and finds the area that has enough room and is has the smallest possible size. This would be done by keeping track with a node pointing to the best location, then after going through the whole page, allocating memory where the node was pointing. \newline

\item{Add System Calls}\\
\noindent The main point of the system call that we are implementing is to return the actual memory usage. This would become useful during the next part of the assignment where we are going to comapre the first fit algorithm and the best fit algorithm for efficienct. \newline

To implement the system calls, we will first need to put the function prototype into the header file, probaby a system call header file if there is one. Then we weill need to define the system call in the slob.c file to return both the memory used and the memory free. This way when we use the system calls, we know how much memory has been used or is free, and then we can compare the Best Fit Algorithm to the First Fit Algorithm for efficiency. \newline

\item{Write Program that computes Efficiency}\\
\noindent For this portion, we are required to write a program that computes the effieciency of the first fit algorithm in comparison to the best fit algorithm. With this program, we must also look at the fragmentation suffered from each algorithm. Additionally, this portion will also make use of the system calls we had added in the last step. \newline

\noindent To do this, we will write another .c file that will allocate some amount of memory. We would then use it for both the First Fit Implementation and the Best Fit Implementation to see which one is more efficient. As far as the implementation goes, we will be utilizing the system calls right after the memory allocations to to obtain both how much memory was used and how much is free. We will run this test a couple times to get a more accurate result in order to give a more verified comparrison. \newline
\end{itemize}



\section{Version Control Log}
Used github as version control system and git log for the log info \par
\input{log.tex}

%What was done when
\section{Work Log}
\begin{itemize}
\item{Monday - Research} \\

\end{itemize}

\section{Given Questions}
\subsection{What do you think the main point of the assignment was?}

\subsection{How did you personally approach the problem? Design decisions, algorithm, etc.}
\noindent We approached the assignment by dividing it up into a series of consecutive subproblems. This made it easier to focus on an individual task without getting lost in all the information. The way that we broke up the tasks is the same way as outlined in the design:

\begin{itemize}
\item{Preliminary Research} \\

\end{itemize}


\subsection{How did you ensure your solution was correct? Testing details, for instance. Ensure this is written in a way that the TAs can follow to ensure correctness}

\subsection{What did you learn?}

\end{document} 
